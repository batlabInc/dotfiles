
package de.hs_mannheim.servlets; 

import org.w3c.dom.Document; 
import org.w3c.dom.Element; 
import org.w3c.dom.NodeList; 
import javax.xml.parsers.DocumentBuilder; 
import javax.xml.parsers.DocumentBuilderFactory; 


//
//ok the name of the class may be wrong , 
//but this class , take information from DataBase 
//and transform these infos in xml-Tags , 
//those tags may be xlst conform, 
//and therefore can be interpreted in jsp file. 
//


public class XmlParser{

    int numberOfEl; // Number of Elements to parses 
    NodeList nodeList; 

    String documentName; 
    DocumentBuilder builder; 
    Document document ; 
    public XmlParser(String documentName )
    {
        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();  
        builder = factory.newDocumentBuilder(); 
        this.documentName = documentName ; 
        //Document document = builder.parse(docName); 
    }

    private boolean documentExist( String docName )
    {
        return true; // if document exist
    }

    private Document makeDocument()
    {
        if( documentName == null ) 
        {
            //TODO  
        }
        else if( !documentExist())
        {
        
        }
        else
        {
            document = builder.parse(docName);  
        }
    }

    private Element processFile()
    {
        Element rootElement = document.getDocumentElement(); 
        NodeList nodelist = rootElement.getChildNodes(); 
        numberOfEl = nodelist.getLength();  
        return rootElement; 
    }

    public boolean processFile( )
    {
        Element rootEl = this.processFile(); 
    
        rootEl.appendChild(el); 
        return true; 
    }

    void appendElement(Element el )
    {
        document.appendChild( el );  
    }

}
